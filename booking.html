{% extends 'base.html' %}
{% load static %}
{% load crispy_forms_tags %}

{% block title %}حجز موعد - مركز بانوراما للأشعة{% endblock %}

{% block content %}
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>حجز موعد - مركز بانوراما للأشعة</title>
    
    <!-- Bootstrap RTL CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.rtl.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="assets/css/custom.css">
    <!-- Andalusia Egypt Inspired CSS -->
    <link rel="stylesheet" href="assets/css/andalusia.css">
    
    <style>
        body {
            background-color: #f8f5f0;
            color: #5a4637;
            font-family: 'Cairo', 'Tajawal', Arial, sans-serif;
            line-height: 1.6;
        }
        
        .navbar, .footer {
            background: #fff8f0 !important;
            border-bottom: 1px solid #e5d3b3;
        }
        
        .navbar-brand, .navbar-nav .nav-link, .footer {
            color: #b08d57 !important;
            font-weight: bold;
        }
        
        .navbar-nav .nav-link.active, .navbar-nav .nav-link:focus, .navbar-nav .nav-link:hover {
            color: #007bff !important;
        }
        
        .btn-primary, .btn-primary:active, .btn-primary:focus {
            background: #009fe3 !important;
            border-color: #009fe3 !important;
            color: #fff !important;
            font-weight: bold;
        }
        
        .btn-outline-primary {
            border-color: #009fe3 !important;
            color: #009fe3 !important;
        }
        
        .btn-outline-primary:hover {
            background: #009fe3 !important;
            color: #fff !important;
        }
        
        .section-title, h1, h2, h3, h4, h5 {
            color: #b08d57;
            font-weight: bold;
        }
        
        .card {
            border-radius: 1rem;
            border: 1px solid #e5d3b3;
        }
        
        .card-header {
            background: #fff8f0;
            color: #b08d57;
            border-bottom: 1px solid #e5d3b3;
        }
        
        .footer {
            background: #fff8f0;
            color: #b08d57;
            border-top: 1px solid #e5d3b3;
        }
        
        .footer a {
            color: #009fe3;
        }
        
        .text-main {
            color: #009fe3 !important;
        }
        
        .btn-main {
            background: #009fe3 !important;
            border-color: #009fe3 !important;
            color: #fff !important;
        }
        
        .btn-outline-main {
            border-color: #009fe3 !important;
            color: #009fe3 !important;
        }
        
        .btn-outline-main:hover {
            background: #009fe3 !important;
            color: #fff !important;
        }
        
        .form-control, .form-select {
            border-radius: 0.5rem !important;
            border: 1px solid #e5d3b3 !important;
        }
        
        .form-control:focus, .form-select:focus {
            border-color: #009fe3 !important;
            box-shadow: 0 0 0 0.2rem rgba(0, 159, 227, 0.25) !important;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header navbar navbar-expand-lg py-3">
        <div class="container-fluid d-flex align-items-center justify-content-between">
            <a href="/" class="navbar-brand d-flex align-items-center">
                <img src="assets/images/equipment/logo.png" alt="Logo" class="logo me-2">
                <span class="fw-bold" style="color:#00bfae; font-size:2rem;">بانوراما</span>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNavbar" aria-controls="mainNavbar" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <nav class="collapse navbar-collapse" id="mainNavbar">
                <ul class="navbar-nav ms-auto mb-2 mb-lg-0 gap-2">
                    <li class="nav-item"><a href="/" class="nav-link">الرئيسية</a></li>
                    <li class="nav-item"><a href="about.html" class="nav-link">من نحن</a></li>
                    <li class="nav-item"><a href="services.html" class="nav-link">الخدمات</a></li>
                    <li class="nav-item"><a href="team.html" class="nav-link">الأطباء</a></li>
                    <li class="nav-item"><a href="offers.html" class="nav-link">العروض</a></li>
                    <li class="nav-item"><a href="blog.html" class="nav-link">المدونة</a></li>
                    <li class="nav-item"><a href="contact.html" class="nav-link">تواصل معنا</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Page Header -->
    <section class="py-5 bg-light">
        <div class="container">
            <div class="row text-center">
                <div class="col-12">
                    <h1 class="fw-bold text-main mb-3">حجز موعد</h1>
                    <p class="lead text-muted">احجز موعدك الآن للحصول على أفضل الخدمات الطبية</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Booking Form -->
    <section class="py-5">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-8">
                    <div class="booking-form">
                        <form id="booking-form">
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <label for="name" class="form-label">الاسم الكامل *</label>
                                    <input type="text" class="form-control" id="name" name="name" required>
                                </div>
                                <div class="col-md-6">
                                    <label for="phone" class="form-label">رقم الهاتف *</label>
                                    <input type="tel" class="form-control" id="phone" name="phone" required>
                                </div>
                                <div class="col-md-6">
                                    <label for="service" class="form-label">الخدمة المطلوبة *</label>
                                    <select class="form-select" id="service" name="service" required>
                                        <option value="">اختر الخدمة</option>
                                        <option value="1">أشعة رنين مغناطيسي</option>
                                        <option value="2">أشعة مقطعية</option>
                                        <option value="3">أشعة سينية</option>
                                        <option value="4">أشعة إيكو</option>
                                        <option value="5">أشعة بانوراما أسنان</option>
                                        <option value="6">تحاليل طبية</option>
                                    </select>
                                </div>
                                <div class="col-md-6">
                                    <label for="doctor" class="form-label">الطبيب (اختياري)</label>
                                    <select class="form-select" id="doctor" name="doctor">
                                        <option value="">اختر الطبيب</option>
                                        <option value="1">د. أحمد محمد</option>
                                        <option value="2">د. فاطمة علي</option>
                                        <option value="3">د. محمد حسن</option>
                                    </select>
                                </div>
                                <div class="col-md-6">
                                    <label for="appointment_date" class="form-label">تاريخ الموعد *</label>
                                    <input type="date" class="form-control" id="appointment_date" name="appointment_date" required>
                                </div>
                                <div class="col-md-6">
                                    <label for="appointment_time" class="form-label">وقت الموعد *</label>
                                    <select class="form-select" id="appointment_time" name="appointment_time" required>
                                        <option value="">اختر الوقت</option>
                                        <option value="09:00">09:00 صباحاً</option>
                                        <option value="10:00">10:00 صباحاً</option>
                                        <option value="11:00">11:00 صباحاً</option>
                                        <option value="12:00">12:00 ظهراً</option>
                                        <option value="13:00">01:00 ظهراً</option>
                                        <option value="14:00">02:00 ظهراً</option>
                                        <option value="15:00">03:00 عصراً</option>
                                        <option value="16:00">04:00 عصراً</option>
                                        <option value="17:00">05:00 عصراً</option>
                                    </select>
                                </div>
                                <div class="col-12">
                                    <label for="notes" class="form-label">ملاحظات إضافية</label>
                                    <textarea class="form-control" id="notes" name="notes" rows="3" placeholder="أي ملاحظات إضافية أو تفاصيل مهمة..."></textarea>
                                </div>
                                <div class="col-12 text-center">
                                    <button type="submit" class="btn btn-main btn-lg px-5">
                                        <i class="fas fa-calendar-check ms-2"></i>
                                        تأكيد الحجز
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Working Hours -->
    <section class="py-5 bg-light">
        <div class="container">
            <div class="row text-center mb-4">
                <div class="col-12">
                    <h2 class="fw-bold text-main mb-3">ساعات العمل</h2>
                    <p class="lead text-muted">نحن متاحون لخدمتك في الأوقات التالية</p>
                </div>
            </div>
            <div class="row justify-content-center">
                <div class="col-lg-6">
                    <div class="card border-0 shadow">
                        <div class="card-body p-4">
                            <div class="row text-center">
                                <div class="col-6">
                                    <h5 class="fw-bold text-main">الأحد - الخميس</h5>
                                    <p class="text-muted">08:00 صباحاً - 08:00 مساءً</p>
                                </div>
                                <div class="col-6">
                                    <h5 class="fw-bold text-main">الجمعة - السبت</h5>
                                    <p class="text-muted">09:00 صباحاً - 06:00 مساءً</p>
                                </div>
                            </div>
                            <hr>
                            <div class="text-center">
                                <h6 class="fw-bold text-main">للحالات الطارئة</h6>
                                <p class="text-muted mb-0">متاح على مدار 24 ساعة</p>
                                <a href="tel:040-1234567" class="btn btn-outline-main mt-2">
                                    <i class="fas fa-phone ms-2"></i>
                                    040-1234567
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Services Preview -->
    <section class="py-5">
        <div class="container">
            <div class="row text-center mb-4">
                <div class="col-12">
                    <h2 class="fw-bold text-main mb-3">خدماتنا المتاحة</h2>
                    <p class="lead text-muted">تعرف على خدماتنا المميزة وأسعارها</p>
                </div>
            </div>
            <div class="row g-4" id="services-preview">
                <!-- Services will be loaded dynamically -->
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer py-5">
        <div class="container">
            <div class="row g-4">
                <div class="col-lg-4">
                    <h5 class="fw-bold mb-3">مركز بانوراما للأشعة</h5>
                    <p>مركز متخصص في جميع أنواع الأشعة التشخيصية والتحاليل الطبية بأحدث الأجهزة وأفضل الكوادر الطبية في قطور</p>
                    <div class="d-flex gap-2">
                        <a href="#" class="icon-circle"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="icon-circle"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="icon-circle"><i class="fab fa-whatsapp"></i></a>
                    </div>
                </div>
                <div class="col-lg-4">
                    <h5 class="fw-bold mb-3">روابط سريعة</h5>
                    <ul class="list-unstyled">
                        <li><a href="about.html" class="text-decoration-none">من نحن</a></li>
                        <li><a href="services.html" class="text-decoration-none">الخدمات</a></li>
                        <li><a href="team.html" class="text-decoration-none">الأطباء</a></li>
                        <li><a href="blog.html" class="text-decoration-none">المدونة</a></li>
                        <li><a href="contact.html" class="text-decoration-none">تواصل معنا</a></li>
                    </ul>
                </div>
                <div class="col-lg-4">
                    <h5 class="fw-bold mb-3">معلومات التواصل</h5>
                    <div class="mb-2">
                        <i class="fas fa-map-marker-alt me-2"></i>
                        <span>قطور، الغربية، مصر</span>
                    </div>
                    <div class="mb-2">
                        <i class="fas fa-phone me-2"></i>
                        <span>040-1234567</span>
                    </div>
                    <div class="mb-2">
                        <i class="fas fa-mobile-alt me-2"></i>
                        <span>01234567890</span>
                    </div>
                    <div class="mb-2">
                        <i class="fas fa-envelope me-2"></i>
                        <span>info@panorama.com</span>
                    </div>
                </div>
            </div>
            <hr class="my-4">
            <div class="row">
                <div class="col-12 text-center">
                    <p class="mb-0">&copy; 2024 مركز بانوراما للأشعة. جميع الحقوق محفوظة.</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JS -->
    <script src="assets/js/custom.js"></script>
    
    <script>
        // Set minimum date to today
        document.getElementById('appointment_date').min = new Date().toISOString().split('T')[0];
        
        // Load services preview
        function loadServicesPreview() {
            const container = document.getElementById('services-preview');
            if (!container) return;
            
            const sampleServices = [
                {
                    name: "أشعة رنين مغناطيسي",
                    price: "800",
                    description: "فحص الرنين المغناطيسي للدماغ والعمود الفقري والمفاصل"
                },
                {
                    name: "أشعة مقطعية",
                    price: "600",
                    description: "فحص الأشعة المقطعية للصدر والبطن والحوض"
                },
                {
                    name: "أشعة سينية",
                    price: "150",
                    description: "أشعة سينية للصدر والعظام والمفاصل"
                }
            ];
            
            container.innerHTML = sampleServices.map(service => `
                <div class="col-lg-4 col-md-6">
                    <div class="card h-100 border-0 shadow">
                        <div class="card-body text-center p-4">
                            <h5 class="card-title text-main">${service.name}</h5>
                            <p class="card-text text-muted">${service.description}</p>
                            <div class="d-flex justify-content-between align-items-center">
                                <span class="fw-bold text-main">${service.price} جنيه</span>
                                <a href="services.html" class="btn btn-outline-main">المزيد</a>
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');
        }
        
        // Load services preview on page load
        document.addEventListener('DOMContentLoaded', function() {
            loadServicesPreview();
        });
    </script>
</body>
</html>
{% endblock %}

{% block extra_js %}
<script>
// التحقق من صحة التاريخ (لا يمكن اختيار تاريخ في الماضي)
document.addEventListener('DOMContentLoaded', function() {
    const dateInput = document.querySelector('input[name="appointment_date"]');
    const today = new Date().toISOString().split('T')[0];
    dateInput.setAttribute('min', today);
    
    // التحقق من صحة النموذج
    const form = document.querySelector('.needs-validation');
    form.addEventListener('submit', function(event) {
        if (!form.checkValidity()) {
            event.preventDefault();
            event.stopPropagation();
        }
        form.classList.add('was-validated');
    });
});
</script>
{% endblock %} 